{"version":3,"file":"popup.js","sources":["../src/popup.ts"],"sourcesContent":["const LOG_PREFIX = \"[Imagion Popup]\";\r\n\r\ntype StorageData = {\r\n  imagionApiKey: string;\r\n  imagionDetectionEndpoint: string;\r\n  imagionBadgeEnabled: boolean;\r\n  imagionUserEmail: string;\r\n  imagionUserTier: string;\r\n  imagionMonthlyDetections: number;\r\n  imagionTotalDetections: number;\r\n};\r\n\r\ntype AuthResponse = {\r\n  success: boolean;\r\n  user?: {\r\n    id: string;\r\n    email: string;\r\n    name: string | null;\r\n    tier: string;\r\n    monthlyDetections: number;\r\n    totalDetections: number;\r\n  };\r\n  apiKey?: string;\r\n  error?: string;\r\n};\r\n\r\nconst DEFAULT_ENDPOINT = \"http://localhost:3000\";\r\nconst AUTH_ENDPOINT_PATH = \"/api/auth/extension\";\r\n\r\n// DOM Elements\r\nconst viewLoading = document.getElementById(\"view-loading\") as HTMLDivElement;\r\nconst viewLogin = document.getElementById(\"view-login\") as HTMLDivElement;\r\nconst viewAuthenticated = document.getElementById(\"view-authenticated\") as HTMLDivElement;\r\n\r\nconst loginForm = document.getElementById(\"login-form\") as HTMLFormElement;\r\nconst emailInput = document.getElementById(\"email\") as HTMLInputElement;\r\nconst passwordInput = document.getElementById(\"password\") as HTMLInputElement;\r\nconst loginBtn = document.getElementById(\"login-btn\") as HTMLButtonElement;\r\nconst loginStatus = document.getElementById(\"login-status\") as HTMLDivElement;\r\n\r\nconst advancedToggle = document.getElementById(\"advanced-toggle\") as HTMLSpanElement;\r\nconst advancedSection = document.getElementById(\"advanced-section\") as HTMLDivElement;\r\nconst endpointInput = document.getElementById(\"endpoint-input\") as HTMLInputElement;\r\n\r\nconst userEmail = document.getElementById(\"user-email\") as HTMLDivElement;\r\nconst userTier = document.getElementById(\"user-tier\") as HTMLDivElement;\r\nconst monthlyDetections = document.getElementById(\"monthly-detections\") as HTMLDivElement;\r\nconst totalDetections = document.getElementById(\"total-detections\") as HTMLDivElement;\r\nconst apiKeyDisplay = document.getElementById(\"api-key-display\") as HTMLDivElement;\r\nconst copyApiKeyBtn = document.getElementById(\"copy-api-key\") as HTMLButtonElement;\r\nconst badgeToggle = document.getElementById(\"badge-toggle\") as HTMLInputElement;\r\nconst logoutBtn = document.getElementById(\"logout-btn\") as HTMLButtonElement;\r\n\r\nconst registerLink = document.getElementById(\"register-link\") as HTMLAnchorElement;\r\nconst forgotLink = document.getElementById(\"forgot-link\") as HTMLAnchorElement;\r\nconst dashboardLink = document.getElementById(\"dashboard-link\") as HTMLAnchorElement;\r\nconst optionsLink = document.getElementById(\"options-link\") as HTMLAnchorElement;\r\n\r\nlet currentApiKey = \"\";\r\nlet baseUrl = DEFAULT_ENDPOINT;\r\n\r\nfunction showView(view: \"loading\" | \"login\" | \"authenticated\") {\r\n  viewLoading.classList.remove(\"active\");\r\n  viewLogin.classList.remove(\"active\");\r\n  viewAuthenticated.classList.remove(\"active\");\r\n\r\n  switch (view) {\r\n    case \"loading\":\r\n      viewLoading.classList.add(\"active\");\r\n      break;\r\n    case \"login\":\r\n      viewLogin.classList.add(\"active\");\r\n      break;\r\n    case \"authenticated\":\r\n      viewAuthenticated.classList.add(\"active\");\r\n      break;\r\n  }\r\n}\r\n\r\nfunction showStatus(message: string, type: \"error\" | \"success\") {\r\n  loginStatus.textContent = message;\r\n  loginStatus.className = `status show ${type}`;\r\n}\r\n\r\nfunction hideStatus() {\r\n  loginStatus.className = \"status\";\r\n}\r\n\r\nfunction setLoading(loading: boolean) {\r\n  loginBtn.disabled = loading;\r\n  loginBtn.innerHTML = loading\r\n    ? '<span class=\"spinner\"></span> Signing in...'\r\n    : \"Sign In\";\r\n}\r\n\r\nfunction maskApiKey(key: string): string {\r\n  if (!key || key.length < 20) return key;\r\n  return `${key.substring(0, 12)}...${key.substring(key.length - 4)}`;\r\n}\r\n\r\nasync function getStorage(): Promise<Partial<StorageData>> {\r\n  return new Promise((resolve) => {\r\n    chrome.storage.local.get(\r\n      {\r\n        imagionApiKey: \"\",\r\n        imagionDetectionEndpoint: `${DEFAULT_ENDPOINT}/api/detect`,\r\n        imagionBadgeEnabled: true,\r\n        imagionUserEmail: \"\",\r\n        imagionUserTier: \"\",\r\n        imagionMonthlyDetections: 0,\r\n        imagionTotalDetections: 0,\r\n      },\r\n      (items) => resolve(items as StorageData)\r\n    );\r\n  });\r\n}\r\n\r\nasync function setStorage(data: Partial<StorageData>): Promise<void> {\r\n  return new Promise((resolve) => {\r\n    chrome.storage.local.set(data, () => resolve());\r\n  });\r\n}\r\n\r\nasync function checkAuthStatus() {\r\n  console.log(LOG_PREFIX, \"Checking auth status...\");\r\n  const storage = await getStorage();\r\n\r\n  // Extract base URL from endpoint\r\n  if (storage.imagionDetectionEndpoint) {\r\n    try {\r\n      const url = new URL(storage.imagionDetectionEndpoint);\r\n      baseUrl = `${url.protocol}//${url.host}`;\r\n    } catch {\r\n      baseUrl = DEFAULT_ENDPOINT;\r\n    }\r\n  }\r\n\r\n  endpointInput.value = baseUrl;\r\n\r\n  if (storage.imagionApiKey) {\r\n    console.log(LOG_PREFIX, \"User is authenticated\");\r\n    currentApiKey = storage.imagionApiKey;\r\n    displayAuthenticatedView(storage);\r\n    showView(\"authenticated\");\r\n  } else {\r\n    console.log(LOG_PREFIX, \"User is not authenticated\");\r\n    showView(\"login\");\r\n  }\r\n}\r\n\r\nfunction displayAuthenticatedView(storage: Partial<StorageData>) {\r\n  userEmail.textContent = storage.imagionUserEmail || \"Unknown\";\r\n  userTier.textContent = storage.imagionUserTier || \"FREE\";\r\n  monthlyDetections.textContent = String(storage.imagionMonthlyDetections || 0);\r\n  totalDetections.textContent = String(storage.imagionTotalDetections || 0);\r\n  apiKeyDisplay.textContent = maskApiKey(storage.imagionApiKey || \"\");\r\n  badgeToggle.checked = storage.imagionBadgeEnabled !== false;\r\n\r\n  // Update links with base URL\r\n  registerLink.href = `${baseUrl}/register`;\r\n  forgotLink.href = `${baseUrl}/forgot-password`;\r\n  dashboardLink.href = `${baseUrl}/dashboard`;\r\n}\r\n\r\nasync function handleLogin(e: Event) {\r\n  e.preventDefault();\r\n  hideStatus();\r\n\r\n  const email = emailInput.value.trim();\r\n  const password = passwordInput.value;\r\n  const customEndpoint = endpointInput.value.trim();\r\n\r\n  if (!email || !password) {\r\n    showStatus(\"Please enter email and password\", \"error\");\r\n    return;\r\n  }\r\n\r\n  // Update base URL if custom endpoint provided\r\n  if (customEndpoint) {\r\n    try {\r\n      const url = new URL(customEndpoint);\r\n      baseUrl = `${url.protocol}//${url.host}`;\r\n    } catch {\r\n      showStatus(\"Invalid endpoint URL\", \"error\");\r\n      return;\r\n    }\r\n  }\r\n\r\n  setLoading(true);\r\n  console.log(LOG_PREFIX, \"Attempting login for:\", email);\r\n\r\n  try {\r\n    const response = await fetch(`${baseUrl}${AUTH_ENDPOINT_PATH}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n\r\n    const data: AuthResponse = await response.json();\r\n    console.log(LOG_PREFIX, \"Auth response:\", response.status, data.success);\r\n\r\n    if (!response.ok || !data.success) {\r\n      showStatus(data.error || \"Authentication failed\", \"error\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (!data.apiKey) {\r\n      showStatus(\"No API key received\", \"error\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Save to storage\r\n    await setStorage({\r\n      imagionApiKey: data.apiKey,\r\n      imagionDetectionEndpoint: `${baseUrl}/api/detect`,\r\n      imagionUserEmail: data.user?.email || email,\r\n      imagionUserTier: data.user?.tier || \"FREE\",\r\n      imagionMonthlyDetections: data.user?.monthlyDetections || 0,\r\n      imagionTotalDetections: data.user?.totalDetections || 0,\r\n      imagionBadgeEnabled: true,\r\n    });\r\n\r\n    currentApiKey = data.apiKey;\r\n    console.log(LOG_PREFIX, \"Login successful, API key saved\");\r\n\r\n    // Clear form\r\n    emailInput.value = \"\";\r\n    passwordInput.value = \"\";\r\n\r\n    // Show authenticated view\r\n    const storage = await getStorage();\r\n    displayAuthenticatedView(storage);\r\n    showView(\"authenticated\");\r\n  } catch (error) {\r\n    console.error(LOG_PREFIX, \"Login error:\", error);\r\n    showStatus(\r\n      error instanceof Error ? error.message : \"Network error. Check your connection.\",\r\n      \"error\"\r\n    );\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n}\r\n\r\nasync function handleLogout() {\r\n  console.log(LOG_PREFIX, \"Logging out...\");\r\n\r\n  await setStorage({\r\n    imagionApiKey: \"\",\r\n    imagionUserEmail: \"\",\r\n    imagionUserTier: \"\",\r\n    imagionMonthlyDetections: 0,\r\n    imagionTotalDetections: 0,\r\n  });\r\n\r\n  currentApiKey = \"\";\r\n  showView(\"login\");\r\n}\r\n\r\nasync function handleCopyApiKey() {\r\n  if (!currentApiKey) return;\r\n\r\n  try {\r\n    await navigator.clipboard.writeText(currentApiKey);\r\n    const originalText = copyApiKeyBtn.textContent;\r\n    copyApiKeyBtn.textContent = \"Copied!\";\r\n    setTimeout(() => {\r\n      copyApiKeyBtn.textContent = originalText;\r\n    }, 2000);\r\n  } catch (error) {\r\n    console.error(LOG_PREFIX, \"Failed to copy:\", error);\r\n  }\r\n}\r\n\r\nasync function handleBadgeToggle() {\r\n  const enabled = badgeToggle.checked;\r\n  console.log(LOG_PREFIX, \"Badge toggle:\", enabled);\r\n  await setStorage({ imagionBadgeEnabled: enabled });\r\n}\r\n\r\nfunction handleAdvancedToggle() {\r\n  advancedSection.classList.toggle(\"show\");\r\n  advancedToggle.textContent = advancedSection.classList.contains(\"show\")\r\n    ? \"Hide advanced settings\"\r\n    : \"Advanced settings\";\r\n}\r\n\r\nfunction openUrl(url: string) {\r\n  chrome.tabs.create({ url });\r\n}\r\n\r\n// Event Listeners\r\nloginForm.addEventListener(\"submit\", handleLogin);\r\nlogoutBtn.addEventListener(\"click\", handleLogout);\r\ncopyApiKeyBtn.addEventListener(\"click\", handleCopyApiKey);\r\nbadgeToggle.addEventListener(\"change\", handleBadgeToggle);\r\nadvancedToggle.addEventListener(\"click\", handleAdvancedToggle);\r\n\r\nregisterLink.addEventListener(\"click\", (e) => {\r\n  e.preventDefault();\r\n  openUrl(`${baseUrl}/register`);\r\n});\r\n\r\nforgotLink.addEventListener(\"click\", (e) => {\r\n  e.preventDefault();\r\n  openUrl(`${baseUrl}/forgot-password`);\r\n});\r\n\r\ndashboardLink.addEventListener(\"click\", (e) => {\r\n  e.preventDefault();\r\n  openUrl(`${baseUrl}/dashboard`);\r\n});\r\n\r\noptionsLink.addEventListener(\"click\", (e) => {\r\n  e.preventDefault();\r\n  chrome.runtime.openOptionsPage();\r\n});\r\n\r\n// Initialize\r\nconsole.log(LOG_PREFIX, \"Popup initialized\");\r\ncheckAuthStatus();\r\n\r\nexport {};\r\n"],"names":["LOG_PREFIX","DEFAULT_ENDPOINT","AUTH_ENDPOINT_PATH","viewLoading","viewLogin","viewAuthenticated","loginForm","emailInput","passwordInput","loginBtn","loginStatus","advancedToggle","advancedSection","endpointInput","userEmail","userTier","monthlyDetections","totalDetections","apiKeyDisplay","copyApiKeyBtn","badgeToggle","logoutBtn","registerLink","forgotLink","dashboardLink","optionsLink","currentApiKey","baseUrl","showView","view","showStatus","message","type","hideStatus","setLoading","loading","maskApiKey","key","getStorage","resolve","items","setStorage","data","checkAuthStatus","storage","url","displayAuthenticatedView","handleLogin","email","password","customEndpoint","response","error","handleLogout","handleCopyApiKey","originalText","handleBadgeToggle","enabled","handleAdvancedToggle","openUrl"],"mappings":"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"}