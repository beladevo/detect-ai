---
trigger: always_on
---
# Senior Architect Principles

> "Code should be written as if the next person to maintain it is a violent psychopath who knows where you live." - Common Coding Wisdom

All code generated by agents or workflows MUST adhere to these Senior Architect principles.

## 1. No Over-Engineering
- **KISS (Keep It Simple, Stupid)**: Solve the problem at hand. Do not build "frameworks" for a simple feature.
- **YAGNI (You Ain't Gonna Need It)**: Do not implement features "just in case".
- **Avoid Abstraction Hell**: Do not create generic interfaces for a single implementation. Abstractions should emerge from necessity (Rule of Three).

## 2. Reusability & Composition
- **Atomic Components**: Build small, focused components (like `DetailCard`) that do one thing well.
- **Composition over Inheritance**: Combine small components to build complex views (`ResultsDisplay` uses `DetailCard` + `GlassCard`).
- **Shared Utilities**: Move common logic to `src/lib` (e.g., `utils.ts`, `env.ts`). Do not duplicate logic across files.

## 3. Best Practices
- **Type Safety**: Use Strict TypeScript. No `any`. proper `interface` definitions.
- **Clean Folder Structure**:
    - `src/components/ui/` -> Reusable, generic UI atoms.
    - `src/components/` -> Domain-specific business components.
    - `src/lib/` -> Core logic, non-UI utilities.
- **Predictability**: Use established patterns (e.g., standard Tailwind colors from tokens). Do not invent new styles unless creating a new token.

## 4. Operational Excellence
- **Logs**: meaningful logs. In Dev -> Console. In Prod -> Remote.
- **Error Handling**: Graceful degradation. The app should never crash white-screen; show a Toast or Fallback.

## 5. Agent Workflow Mandate
**Every** agent workflow running on this repo MUST:
1. Read this file.
2. Verify its proposed solution against these principles.
3. Refactor if it detects over-engineering or code duplication.
